@using TM.Domain.Models
@model SlotFuncAuthRecord




<tr>
    <td colspan="8">
        @using (Html.BeginForm("EditPost", "SlotFuncAuthRecord", FormMethod.Post))
        {
            <table class="table">
                <tr>
                    <td width="140px">
                        <input  name="AuthModifyDate" type='text' class='date form-control datepicker-here' data-language='zh' value="@(string.Format("{0:yyyy/MM/dd}",Model.AuthModifyDate))" />
                        @Html.ValidationMessageFor(model => model.AuthModifyDate, "", new { @class = "text-danger" })
                    </td>
                    <td  width="140px">
                        @Html.EditorFor(model => model.EmployeeId, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.EmployeeId, "", new { @class = "text-danger" })
                    </td>
                    <td  width="140px">
                        @Html.EditorFor(model => model.EmployeeName, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.EmployeeName, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.DropDownForSLotAuthItem(model => model.Item)
                        @Html.ValidationMessageFor(model => model.Item, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        <textarea name="Content" class="form-control" rows="5">@Model.Content</textarea>
                        @Html.ValidationMessageFor(model => model.Content, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.DropDownForBoolType(model => model.IsCompleted)
                        @Html.ValidationMessageFor(model => model.IsCompleted, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        <textarea name="Comment" class="form-control" rows="5">@Model.Comment</textarea>
                        @Html.ValidationMessageFor(model => model.Comment, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.HiddenFor(x => x.RecordId)
                        @Html.HiddenFor(x => x.Creator)
                        @Html.HiddenFor(x => x.CreateDateTime)
                        <button type="submit" class="SaveBtn btn btn-danger btn-xs">儲存</button>
                        <button type="button" class="CancelBtn btn btn-default btn-xs">取消</button>
                    </td>
                </tr>
            </table>

        }
    </td>

</tr>

<script type='text/javascript'>
    $(function () {
        $('.date').datepicker();

        //$('#txtStartDate').datepicker({
        //    language: 'zh',
        //    range: true,
        //    multipleDatesSeparator: "-",
        //    dateFormat: "yyyy/mm/dd"
        //})
    });

    $(".CancelBtn").click(function () {
        var thisrow = $(this).parent().parent().parent().parent().parent().parent().parent();
        //thisrow.attr('style',"background-color:gray;")
        var prerow = thisrow.prev();
        prerow.show();
        thisrow.remove();
    });
</script>
